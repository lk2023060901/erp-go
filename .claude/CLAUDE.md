# CLAUDE.md

此文件为 Claude Code (claude.ai/code) 在此代码仓库中工作时提供指导。

在回复过程中，始终以中文进行回复。

在创建目录、文件时，要询问后，得到授权才可以进行。

在修复 Bug 时，如果需要新增测试类、函数等情况，要先获得授权。不得在未经授权前，不得擅自做任何决定。

未获得授权前，不得在任何情况下创建 markdown 文件。创建任何文件及目录时，要严格遵守目录结构，或询问文件的存放位置。

不得在文档中随意使用任何表情、emoji、icon 等修饰性内容。如确实需要加入，需要获得授权后才能操作。

## 项目概述

这是一个使用 Go 后端和前端组件构建的 ERP（企业资源规划）系统。项目采用 monorepo 结构，包含独立的后端和前端目录。

## 仓库结构

```
erp-go/
├── backend/          # Go 后端服务
├── frontend/         # 前端应用
├── docs/            # 文档
└── scripts/         # 构建和部署脚本
```

## 开发环境设置

由于这是一个新的项目结构，典型的 Go ERP 开发命令包括：

### 后端开发
```bash
# 进入后端目录
cd backend/

# 初始化 Go 模块（如果尚未完成）
go mod init erp-go/backend

# 安装依赖
go mod tidy

## 架构说明

此 ERP 系统设计为模块化单体架构，包含以下预期组件：

- **后端**: 处理业务逻辑的 RESTful API 服务器
- **前端**: ERP 功能的用户界面
- **数据库层**: 数据持久化和管理
- **身份验证**: 用户管理和安全
- **业务模块**: 核心 ERP 功能（库存、会计、CRM 等）

## 预期目录结构（后端）

开发时，后端应遵循 Go 项目布局约定：

```
backend/
├── cmd/             # 应用程序入口点
├── internal/        # 私有应用程序代码
│   ├── handlers/    # HTTP 处理程序
│   ├── models/      # 数据模型
│   ├── services/    # 业务逻辑
│   └── database/    # 数据库层
├── pkg/             # 公共库代码
├── configs/         # 配置文件
└── migrations/      # 数据库迁移
```

## 开发准则

- 使用 Go 模块进行依赖管理
- 遵循标准 Go 项目布局
- 实现适当的错误处理
- 使用 context 进行请求处理
- 实现数据库迁移以处理模式更改
- 使用环境变量进行配置
- 实现适当的日志记录和监控

## 测试策略

- 对 `internal/` 包中的业务逻辑进行单元测试
- 对 API 端点进行集成测试
- 使用测试容器或内存数据库进行数据库测试
- 对关键用户流程进行端到端测试